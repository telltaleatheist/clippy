:host {
  display: block;
  width: 100%;
}

// Custom Timeline scrollbar (Adobe Premiere style)
.timeline-scrollbar {
  margin-top: 12px;
  padding: 12px 8px;
  background: rgba(0, 0, 0, 0.05); // Light theme default
  border-radius: 6px;
  border: 1px solid #dee2e6; // Light theme default
  transition: opacity 0.2s ease;

  &.disabled {
    opacity: 0.3;
    pointer-events: none;
  }

  .scrollbar-track {
    position: relative;
    width: 100%;
    height: 24px;
    background: linear-gradient(to bottom, #f8f9fa, #e9ecef); // Light theme default
    border: 1px solid #adb5bd; // Light theme default
    border-radius: 4px;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .scrollbar-viewport {
    position: absolute;
    top: 0;
    height: 100%;
    background: linear-gradient(to bottom, rgba(255, 102, 0, 0.3), rgba(255, 102, 0, 0.4));
    border: 2px solid #ff6600;
    border-radius: 4px;
    cursor: grab;
    transition: background 0.2s ease;
    box-shadow: 0 0 8px rgba(255, 102, 0, 0.4);
    min-width: 30px; // Ensure viewport is always wide enough to show handles

    &:hover {
      background: linear-gradient(to bottom, rgba(255, 102, 0, 0.4), rgba(255, 102, 0, 0.5));
      box-shadow: 0 0 12px rgba(255, 102, 0, 0.6);
    }

    &:active {
      cursor: grabbing;
      background: linear-gradient(to bottom, rgba(255, 102, 0, 0.5), rgba(255, 102, 0, 0.6));
    }
  }

  .scrollbar-handle {
    position: absolute;
    top: 0;
    width: 14px;
    height: 100%;
    background: linear-gradient(135deg, #ff6600 0%, #ff8833 50%, #ff6600 100%);
    cursor: ew-resize;
    z-index: 2;
    transition: all 0.2s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);

    &:hover {
      background: linear-gradient(135deg, #ff8833 0%, #ffaa55 50%, #ff8833 100%);
      box-shadow: 0 0 12px rgba(255, 102, 0, 0.8);
      width: 16px; // Make slightly wider on hover for easier grabbing
    }

    &:active {
      background: linear-gradient(135deg, #ff9944 0%, #ffbb66 50%, #ff9944 100%);
      box-shadow: 0 0 8px rgba(255, 102, 0, 0.6);
    }

    // Add handle indicators (vertical lines)
    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 2px;
      height: 60%;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 1px;
    }
  }

  .scrollbar-handle-left {
    left: 0;
    border-radius: 4px 0 0 4px;
  }

  .scrollbar-handle-right {
    right: 0;
    border-radius: 0 4px 4px 0;
  }
}

// ========================================
// Dark Theme Support
// ========================================
:host-context([data-theme="dark"]),
:host-context(.dark-theme) {
  .timeline-scrollbar {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid #333;

    .scrollbar-track {
      background: linear-gradient(to bottom, #1a1a1a, #2a2a2a);
      border: 1px solid #555;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
    }
  }
}

// ========================================
// Global Dark Theme Override
// ========================================
::ng-deep {
  [data-theme="dark"],
  .dark-theme {
    app-timeline-zoom-bar {
      .timeline-scrollbar {
        background: rgba(0, 0, 0, 0.3) !important;
        border: 1px solid #333 !important;

        .scrollbar-track {
          background: linear-gradient(to bottom, #1a1a1a, #2a2a2a) !important;
          border: 1px solid #555 !important;
        }
      }
    }
  }
}
