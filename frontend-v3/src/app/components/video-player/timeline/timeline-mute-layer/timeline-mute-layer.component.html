<div class="mute-sections-layer">
  @for (section of muteSections; track section.id) {
    <div
      class="mute-section-block"
      [class.selected]="selectedSection?.id === section.id"
      [style.left]="getSectionStyle(section).left"
      [style.width]="getSectionStyle(section).width"
      [style.display]="getSectionStyle(section).display"
      [title]="'Muted: ' + formatTime(section.startSeconds) + ' - ' + formatTime(section.endSeconds)"
      (click)="onSectionClick(section, $event)">
      <!-- Left resize handle -->
      <div class="resize-handle left"
           (mousedown)="onResizeHandleMouseDown(section, 'left', $event)">
      </div>
      <!-- Content -->
      <div class="mute-content">
        <span class="mute-icon">
          <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
            <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
          </svg>
        </span>
        <span class="mute-label">MUTE</span>
        <button
          class="delete-btn"
          (mousedown)="$event.stopPropagation()"
          (click)="onDeleteClick(section, $event)"
          title="Remove mute section">
          <svg width="10" height="10" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
      <!-- Right resize handle -->
      <div class="resize-handle right"
           (mousedown)="onResizeHandleMouseDown(section, 'right', $event)">
      </div>
    </div>
  }
</div>
